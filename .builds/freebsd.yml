image: freebsd/latest
packages:
    - devel/meson
    - devel/pkgconf
    - devel/gmake
    - devel/llvm
    - ftp/wget
    - lang/python2
    - www/npm-node10
environment:
    CXX: clang++
    CC: clang
    HOST_CC: clang
sources:
    - https://github.com/radareorg/radare2
tasks:
    - build: |
        cd radare2
        export LD_LIBRARY_PATH=$HOME/lib
        npm config set python "/usr/local/bin/python2.7"
        ./configure --prefix=$HOME
        gmake
        gmake install
        gmake tests
        
