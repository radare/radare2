NAME=ablt
FILE=bins/mach0/mac-ls2
CMDS=<<EOF
e anal.calls=false
af
echo $(ablq)
ablt
EOF
EXPECT=<<EOF
0x1000011e8 0x100001211 0x100001216 0x100001232 0x10000124d 0x100001252 0x10000125c 0x100001276 0x10000127e 0x100001284 0x100001290 0x1000012a8 0x1000012b6 0x1000012bf 0x1000012c6 0x1000012dc 0x1000012e3 0x1000012e7 0x100001301 0x10000130a 0x100001321 0x10000132a 0x100001347 0x100001353 0x100001370 0x100001392 0x100001396 0x1000013a2 0x1000013b1 0x1000013bd 0x1000013cc 0x1000013fb 0x10000140a 0x10000141a 0x10000143f 0x10000144b 0x100001466 0x100001473 0x10000147f 0x100001492 0x1000014a9 0x1000014b4 0x1000014ba 0x1000014d0 0x1000014df 0x1000014f0 0x1000014ff 0x100001519 0x100001525 0x10000153e 0x10000155b 0x10000156a 0x100001572 0x100001583 0x1000015a0 0x1000015ac 0x1000015c9 0x1000015e4 0x1000015f7 0x10000160d 0x10000162a 0x100001636 0x100001645 0x100001665 0x100001682 0x10000168b 0x1000016aa 0x1000016b8 0x1000016cd 0x1000016f1 0x100001768 0x10000177f 0x100001789 0x100001795 0x10000179a 0x1000017a6 0x1000017af 0x1000017b4 0x1000017fe 0x100001875 0x10000187e 0x10000188b 0x1000018c2 0x1000018cb 0x1000018d1 0x1000018dd 0x1000018e3 0x1000018ef 0x1000018f8 0x100001901 0x10000190a 0x100001913 0x10000191c 0x100001925 0x10000192e 0x100001937 0x100001940 0x100001949 0x100001952 0x10000195b 0x100001964 0x10000196d 0x100001976 0x10000197f 0x100001988 0x10000198f 0x1000019a2 0x1000019ab 0x1000019b4 0x1000019bd 0x1000019c6 0x1000019cf 0x1000019d6 0x1000019e2 0x1000019f0 0x1000019f7
.------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------.
| addr         | size  | traced  | ninstr  | jump         | fail         | fcns          | calls                                                         | xrefs                                                         |
)------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------(
| 0x1000011e8  | 41    | 0       | 14      | 0x100001216  | 0x100001211  |  0x1000011e8  |                                                               |                                                               |
| 0x100001211  | 5     | 0       | 1       | 0x100001216  |              |  0x1000011e8  |  0x1000043f2                                                  |  0x1000043f2                                                  |
| 0x100001216  | 28    | 0       | 7       | 0x100001290  | 0x100001232  |  0x1000011e8  |  0x10000456a 0x100004510                                      |  0x10000456a 0x100004510                                      |
| 0x100001232  | 27    | 0       | 5       | 0x10000125c  | 0x10000124d  |  0x1000011e8  |  0x1000044e0                                                  |  0x1000044e0                                                  |
| 0x10000124d  | 5     | 0       | 2       | 0x10000125c  | 0x100001252  |  0x1000011e8  |                                                               |                                                               |
| 0x100001252  | 10    | 0       | 3       | 0x10000127e  |              |  0x1000011e8  |  0x100004480                                                  |  0x100004480                                                  |
| 0x10000125c  | 26    | 0       | 7       | 0x100001284  | 0x100001276  |  0x1000011e8  |  0x10000450a                                                  |  0x10000450a                                                  |
| 0x100001276  | 8     | 0       | 3       | 0x100001284  | 0x10000127e  |  0x1000011e8  |                                                               |                                                               |
| 0x10000127e  | 6     | 0       | 1       | 0x100001284  |              |  0x1000011e8  |                                                               |                                                               |
| 0x100001284  | 12    | 0       | 2       | 0x1000012b6  |              |  0x1000011e8  |                                                               |                                                               |
| 0x100001290  | 24    | 0       | 5       | 0x1000012b6  | 0x1000012a8  |  0x1000011e8  |  0x1000044e0                                                  |  0x1000044e0                                                  |
| 0x1000012a8  | 14    | 0       | 3       | 0x1000012b6  |              |  0x1000011e8  |  0x100004480                                                  |  0x100004480                                                  |
| 0x1000012b6  | 9     | 0       | 3       | 0x1000012c6  | 0x1000012bf  |  0x1000011e8  |  0x1000044f2                                                  |  0x1000044f2                                                  |
| 0x1000012bf  | 7     | 0       | 1       | 0x1000012c6  |              |  0x1000011e8  |                                                               |                                                               |
| 0x1000012c6  | 22    | 0       | 4       | 0x1000012e7  |              |  0x1000011e8  |                                                               |                                                               |
| 0x1000012dc  | 7     | 0       | 2       | 0x1000012e7  |              |  0x1000011e8  |  0x1000043f2                                                  |  0x1000043f2                                                  |
| 0x1000012e3  | 4     | 0       | 1       | 0x1000012e7  |              |  0x1000011e8  |                                                               |                                                               |
| 0x1000012e7  | 26    | 0       | 7       | 0x100001682  | 0x100001301  |  0x1000011e8  |  0x1000044e6                                                  |  0x1000044e6                                                  |
| 0x100001301  | 9     | 0       | 3       |              |              |  0x1000011e8  |                                                               |                                                               |
| 0x10000130a  | 23    | 0       | 5       | 0x1000012e7  |              |  0x1000011e8  |                                                               |                                                               |
| 0x100001321  | 9     | 0       | 2       | 0x1000012e7  |              |  0x1000011e8  |                                                               |                                                               |
| 0x10000132a  | 29    | 0       | 4       | 0x1000012e7  |              |  0x1000011e8  |                                                               |                                                               |
| 0x100001347  | 12    | 0       | 2       | 0x1000012e7  |              |  0x1000011e8  |                                                               |                                                               |
| 0x100001353  | 29    | 0       | 5       | 0x1000012e7  |              |  0x1000011e8  |                                                               |                                                               |
| 0x100001370  | 34    | 0       | 6       | 0x1000012e7  | 0x100001392  |  0x1000011e8  |  0x10000448c                                                  |  0x10000448c                                                  |
| 0x100001392  | 4     | 0       | 1       | 0x100001396  |              |  0x1000011e8  |                                                               |                                                               |
| 0x100001396  | 12    | 0       | 2       | 0x1000012e7  |              |  0x1000011e8  |                                                               |                                                               |
| 0x1000013a2  | 15    | 0       | 2       | 0x1000012e7  |              |  0x1000011e8  |                                                               |                                                               |
| 0x1000013b1  | 12    | 0       | 2       | 0x1000012e7  |              |  0x1000011e8  |                                                               |                                                               |
| 0x1000013bd  | 15    | 0       | 2       | 0x1000012e7  |              |  0x1000011e8  |                                                               |                                                               |
| 0x1000013cc  | 47    | 0       | 10      | 0x1000012e7  |              |  0x1000011e8  |  0x10000448c                                                  |  0x10000448c                                                  |
| 0x1000013fb  | 15    | 0       | 2       | 0x1000012e7  |              |  0x1000011e8  |                                                               |                                                               |
| 0x10000140a  | 16    | 0       | 3       | 0x1000012e7  |              |  0x1000011e8  |                                                               |                                                               |
| 0x10000141a  | 37    | 0       | 6       | 0x1000012e7  | 0x10000143f  |  0x1000011e8  |  0x10000448c                                                  |  0x10000448c                                                  |
| 0x10000143f  | 12    | 0       | 2       | 0x1000014ba  |              |  0x1000011e8  |                                                               |                                                               |
| 0x10000144b  | 27    | 0       | 5       | 0x1000012e7  | 0x100001466  |  0x1000011e8  |  0x10000448c                                                  |  0x10000448c                                                  |
| 0x100001466  | 13    | 0       | 3       | 0x1000014b4  |              |  0x1000011e8  |                                                               |                                                               |
| 0x100001473  | 12    | 0       | 2       | 0x1000012e7  |              |  0x1000011e8  |                                                               |                                                               |
| 0x10000147f  | 19    | 0       | 3       | 0x1000012e7  |              |  0x1000011e8  |                                                               |                                                               |
| 0x100001492  | 23    | 0       | 5       | 0x1000014d0  | 0x1000014a9  |  0x1000011e8  |  0x10000448c                                                  |  0x10000448c                                                  |
| 0x1000014a9  | 11    | 0       | 2       | 0x1000014b4  |              |  0x1000011e8  |                                                               |                                                               |
| 0x1000014b4  | 6     | 0       | 1       | 0x1000014ba  |              |  0x1000011e8  |                                                               |                                                               |
| 0x1000014ba  | 22    | 0       | 3       | 0x1000012e7  |              |  0x1000011e8  |                                                               |                                                               |
| 0x1000014d0  | 15    | 0       | 2       | 0x1000012e7  |              |  0x1000011e8  |                                                               |                                                               |
| 0x1000014df  | 17    | 0       | 3       | 0x100001572  |              |  0x1000011e8  |                                                               |                                                               |
| 0x1000014f0  | 15    | 0       | 2       | 0x1000012e7  |              |  0x1000011e8  |                                                               |                                                               |
| 0x1000014ff  | 26    | 0       | 5       | 0x1000012e7  |              |  0x1000011e8  |                                                               |                                                               |
| 0x100001519  | 12    | 0       | 2       | 0x1000012e7  |              |  0x1000011e8  |                                                               |                                                               |
| 0x100001525  | 25    | 0       | 3       | 0x1000012e7  |              |  0x1000011e8  |                                                               |                                                               |
| 0x10000153e  | 29    | 0       | 5       | 0x1000012e7  |              |  0x1000011e8  |                                                               |                                                               |
| 0x10000155b  | 15    | 0       | 2       | 0x1000012e7  |              |  0x1000011e8  |                                                               |                                                               |
| 0x10000156a  | 8     | 0       | 2       | 0x100001572  |              |  0x1000011e8  |                                                               |                                                               |
| 0x100001572  | 17    | 0       | 3       | 0x1000012e7  |              |  0x1000011e8  |                                                               |                                                               |
| 0x100001583  | 29    | 0       | 5       | 0x1000012e7  |              |  0x1000011e8  |                                                               |                                                               |
| 0x1000015a0  | 12    | 0       | 2       | 0x1000012e7  |              |  0x1000011e8  |                                                               |                                                               |
| 0x1000015ac  | 29    | 0       | 5       | 0x1000012e7  |              |  0x1000011e8  |  0x100004564                                                  |  0x100004564                                                  |
| 0x1000015c9  | 27    | 0       | 5       | 0x1000012e3  | 0x1000015e4  |  0x1000011e8  |  0x10000448c                                                  |  0x10000448c                                                  |
| 0x1000015e4  | 19    | 0       | 3       | 0x1000012e7  |              |  0x1000011e8  |                                                               |                                                               |
| 0x1000015f7  | 22    | 0       | 4       | 0x1000012e7  |              |  0x1000011e8  |                                                               |                                                               |
| 0x10000160d  | 29    | 0       | 5       | 0x1000012e7  |              |  0x1000011e8  |                                                               |                                                               |
| 0x10000162a  | 12    | 0       | 2       | 0x1000012e7  |              |  0x1000011e8  |                                                               |                                                               |
| 0x100001636  | 15    | 0       | 2       | 0x1000012e7  |              |  0x1000011e8  |                                                               |                                                               |
| 0x100001645  | 32    | 0       | 4       | 0x1000012e7  |              |  0x1000011e8  |                                                               |                                                               |
| 0x100001665  | 29    | 0       | 5       | 0x1000012e7  |              |  0x1000011e8  |                                                               |                                                               |
| 0x100001682  | 9     | 0       | 2       | 0x1000012dc  | 0x10000168b  |  0x1000011e8  |                                                               |                                                               |
| 0x10000168b  | 31    | 0       | 6       | 0x1000017a6  | 0x1000016aa  |  0x1000011e8  |  0x1000044e0                                                  |  0x1000044e0                                                  |
| 0x1000016aa  | 14    | 0       | 4       | 0x1000016cd  | 0x1000016b8  |  0x1000011e8  |  0x100004510                                                  |  0x100004510                                                  |
| 0x1000016b8  | 21    | 0       | 4       | 0x1000017a6  | 0x1000016cd  |  0x1000011e8  |  0x1000044e0                                                  |  0x1000044e0                                                  |
| 0x1000016cd  | 36    | 0       | 7       | 0x1000017a6  | 0x1000016f1  |  0x1000011e8  |  0x1000044e0 0x1000045a6                                      |  0x1000044e0 0x1000045a6                                      |
| 0x1000016f1  | 119   | 0       | 23      | 0x10000177f  | 0x100001768  |  0x1000011e8  |  0x1000045ac 0x1000045ac 0x1000045ac 0x1000045ac 0x1000045ac  |  0x1000045ac 0x1000045ac 0x1000045ac 0x1000045ac 0x1000045ac  |
| 0x100001768  | 23    | 0       | 4       | 0x10000177f  |              |  0x1000011e8  |  0x1000045ac                                                  |  0x1000045ac                                                  |
| 0x10000177f  | 10    | 0       | 2       | 0x1000017a6  | 0x100001789  |  0x1000011e8  |                                                               |                                                               |
| 0x100001789  | 12    | 0       | 3       | 0x1000017a6  | 0x100001795  |  0x1000011e8  |                                                               |                                                               |
| 0x100001795  | 5     | 0       | 2       | 0x1000017a6  | 0x10000179a  |  0x1000011e8  |                                                               |                                                               |
| 0x10000179a  | 12    | 0       | 2       | 0x1000017b4  |              |  0x1000011e8  |                                                               |                                                               |
| 0x1000017a6  | 9     | 0       | 2       | 0x1000017b4  | 0x1000017af  |  0x1000011e8  |                                                               |                                                               |
| 0x1000017af  | 5     | 0       | 2       | 0x1000017fe  |              |  0x1000011e8  |                                                               |                                                               |
| 0x1000017b4  | 74    | 0       | 14      | 0x1000017fe  |              |  0x1000011e8  |  0x100004570 0x100004570 0x1000044e0 0x100003a50              |  0x100004570 0x100004570 0x1000044e0 0x100003a50              |
| 0x1000017fe  | 119   | 0       | 32      | 0x1000018c2  | 0x100001875  |  0x1000011e8  |                                                               |                                                               |
| 0x100001875  | 9     | 0       | 2       | 0x10000188b  | 0x10000187e  |  0x1000011e8  |                                                               |                                                               |
| 0x10000187e  | 13    | 0       | 2       | 0x1000018c2  |              |  0x1000011e8  |                                                               |                                                               |
| 0x10000188b  | 55    | 0       | 11      | 0x1000018c2  |              |  0x1000011e8  |  0x1000044da                                                  |  0x1000044da                                                  |
| 0x1000018c2  | 9     | 0       | 2       | 0x1000018dd  | 0x1000018cb  |  0x1000011e8  |                                                               |                                                               |
| 0x1000018cb  | 6     | 0       | 2       | 0x1000018ef  | 0x1000018d1  |  0x1000011e8  |                                                               |                                                               |
| 0x1000018d1  | 12    | 0       | 2       | 0x10000198f  |              |  0x1000011e8  |                                                               |                                                               |
| 0x1000018dd  | 6     | 0       | 2       | 0x10000191c  | 0x1000018e3  |  0x1000011e8  |                                                               |                                                               |
| 0x1000018e3  | 12    | 0       | 2       | 0x10000198f  |              |  0x1000011e8  |                                                               |                                                               |
| 0x1000018ef  | 9     | 0       | 2       | 0x100001949  | 0x1000018f8  |  0x1000011e8  |                                                               |                                                               |
| 0x1000018f8  | 9     | 0       | 2       | 0x10000195b  | 0x100001901  |  0x1000011e8  |                                                               |                                                               |
| 0x100001901  | 9     | 0       | 2       | 0x10000196d  | 0x10000190a  |  0x1000011e8  |                                                               |                                                               |
| 0x10000190a  | 9     | 0       | 2       | 0x10000197f  | 0x100001913  |  0x1000011e8  |                                                               |                                                               |
| 0x100001913  | 9     | 0       | 2       | 0x10000198f  |              |  0x1000011e8  |                                                               |                                                               |
| 0x10000191c  | 9     | 0       | 2       | 0x100001952  | 0x100001925  |  0x1000011e8  |                                                               |                                                               |
| 0x100001925  | 9     | 0       | 2       | 0x100001964  | 0x10000192e  |  0x1000011e8  |                                                               |                                                               |
| 0x10000192e  | 9     | 0       | 2       | 0x100001976  | 0x100001937  |  0x1000011e8  |                                                               |                                                               |
| 0x100001937  | 9     | 0       | 2       | 0x100001988  | 0x100001940  |  0x1000011e8  |                                                               |                                                               |
| 0x100001940  | 9     | 0       | 2       | 0x10000198f  |              |  0x1000011e8  |                                                               |                                                               |
| 0x100001949  | 9     | 0       | 2       | 0x10000198f  |              |  0x1000011e8  |                                                               |                                                               |
| 0x100001952  | 9     | 0       | 2       | 0x10000198f  |              |  0x1000011e8  |                                                               |                                                               |
| 0x10000195b  | 9     | 0       | 2       | 0x10000198f  |              |  0x1000011e8  |                                                               |                                                               |
| 0x100001964  | 9     | 0       | 2       | 0x10000198f  |              |  0x1000011e8  |                                                               |                                                               |
| 0x10000196d  | 9     | 0       | 2       | 0x10000198f  |              |  0x1000011e8  |                                                               |                                                               |
| 0x100001976  | 9     | 0       | 2       | 0x10000198f  |              |  0x1000011e8  |                                                               |                                                               |
| 0x10000197f  | 9     | 0       | 2       | 0x10000198f  |              |  0x1000011e8  |                                                               |                                                               |
| 0x100001988  | 7     | 0       | 1       | 0x10000198f  |              |  0x1000011e8  |                                                               |                                                               |
| 0x10000198f  | 19    | 0       | 4       | 0x1000019ab  | 0x1000019a2  |  0x1000011e8  |                                                               |                                                               |
| 0x1000019a2  | 9     | 0       | 2       | 0x1000019d6  |              |  0x1000011e8  |                                                               |                                                               |
| 0x1000019ab  | 9     | 0       | 2       | 0x1000019c6  | 0x1000019b4  |  0x1000011e8  |                                                               |                                                               |
| 0x1000019b4  | 9     | 0       | 2       | 0x1000019cf  | 0x1000019bd  |  0x1000011e8  |                                                               |                                                               |
| 0x1000019bd  | 9     | 0       | 2       | 0x1000019d6  |              |  0x1000011e8  |                                                               |                                                               |
| 0x1000019c6  | 9     | 0       | 2       | 0x1000019d6  |              |  0x1000011e8  |                                                               |                                                               |
| 0x1000019cf  | 7     | 0       | 1       | 0x1000019d6  |              |  0x1000011e8  |                                                               |                                                               |
| 0x1000019d6  | 12    | 0       | 3       | 0x1000019f0  | 0x1000019e2  |  0x1000011e8  |                                                               |                                                               |
| 0x1000019e2  | 14    | 0       | 3       | 0x1000019f7  |              |  0x1000011e8  |                                                               |                                                               |
| 0x1000019f0  | 7     | 0       | 2       | 0x1000019f7  |              |  0x1000011e8  |                                                               |                                                               |
| 0x1000019f7  | 19    | 0       | 4       |              |              |  0x1000011e8  |  0x100001b2c 0x100004498                                      |  0x100001b2c 0x100004498                                      |
`------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------'

EOF
RUN

